<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · JLpeg</title><meta name="title" content="Reference · JLpeg"/><meta property="og:title" content="Reference · JLpeg"/><meta property="twitter:title" content="Reference · JLpeg"/><meta name="description" content="Documentation for JLpeg."/><meta property="og:description" content="Documentation for JLpeg."/><meta property="twitter:description" content="Documentation for JLpeg."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JLpeg</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">JLpeg Guide</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Core-API"><span>Core API</span></a></li><li><a class="tocitem" href="#Pattern-Matching"><span>Pattern Matching</span></a></li><li><a class="tocitem" href="#Constructing-Patterns"><span>Constructing Patterns</span></a></li><li><a class="tocitem" href="#JLpeg.Combinators"><span>JLpeg.Combinators</span></a></li><li><a class="tocitem" href="#Captures-and-Actions"><span>Captures and Actions</span></a></li><li><a class="tocitem" href="#Rules-and-Grammars"><span>Rules and Grammars</span></a></li><li><a class="tocitem" href="#Dialects"><span>Dialects</span></a></li><li><a class="tocitem" href="#Generators"><span>Generators</span></a></li></ul></li><li><a class="tocitem" href="../internals/">Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mnemnion/JLpeg.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mnemnion/JLpeg.jl/blob/trunk/docs/src/reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><ul><li><a href="#Reference">Reference</a></li><li class="no-marker"><ul><li><a href="#Core-API">Core API</a></li><li><a href="#Pattern-Matching">Pattern Matching</a></li><li><a href="#Constructing-Patterns">Constructing Patterns</a></li><li><a href="#JLpeg.Combinators">JLpeg.Combinators</a></li><li><a href="#Captures-and-Actions">Captures and Actions</a></li><li><a href="#Rules-and-Grammars">Rules and Grammars</a></li><li><a href="#Dialects">Dialects</a></li><li><a href="#Generators">Generators</a></li></ul></li></ul><h2 id="Core-API"><a class="docs-heading-anchor" href="#Core-API">Core API</a><a id="Core-API-1"></a><a class="docs-heading-anchor-permalink" href="#Core-API" title="Permalink"></a></h2><p>The basic structure of recognition in JLPeg is a <code>Pattern</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Pattern" href="#JLpeg.Pattern"><code>JLpeg.Pattern</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Container for various patterns and grammars. Always has <code>val</code>, which may be primitive or a PVector, and <code>code</code>, an IVector. Some patterns have a field unique to that pattern type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/types.jl#L21-L26">source</a></section></article><p>These are created in a wide variety of ways, all based on three functions, <a href="#JLpeg.P"><code>P</code></a>, <a href="#JLpeg.S-Tuple{AbstractString}"><code>S</code></a>, and <a href="#JLpeg.R-Tuple{AbstractString}"><code>R</code></a>, with the rest of the work done with a great quantity of operator overloading.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.PegMatch" href="#JLpeg.PegMatch"><code>JLpeg.PegMatch</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PegMatch &lt;: AbstractMatch</code></pre><p>A type representing a single match to a <a href="#JLpeg.Pattern"><code>Pattern</code></a>.  Typically returned from the <a href="#Base.match"><code>match</code></a> function.  <a href="#JLpeg.PegFail"><code>PegFail</code></a> is the atypical return value.</p><p>A <code>PegMatch</code> is equal (<code>==</code>) to a <code>Vector</code> if the captures are equal to the <code>Vector</code>.</p><p>Properties:</p><ul><li><p><code>subject</code> stores the string matched.</p></li><li><p><code>last</code> is the index of the last character matched by <code>patt</code>.  Due to the nature of   PEGs, the match always begins at the first character, so there is little point in   storing this information as a SubString (although the subject itself may be one).</p></li><li><p><code>captures</code> contains any captures from matching <code>patt</code> to <code>subject</code>.  This Vector   can in principle contain anything, as captures may call functions, in which case   the return value of that function becomes the capture.  For more information,   consult the <code>JLPeg</code> documentation, and the docstrings for <code>C</code>, <code>Cg</code>, <code>Cc</code>, <code>A</code>,   and <code>Anow</code>.</p></li><li><p><code>offsets</code> is a <code>Vector{Int}</code>, provided for compatibility with <code>AbstractMatch</code>.  <code>SubString</code>s contain their own offsets, so this is unnecessary for normal work,  but we JIT it for <code>match.offsets</code>.  It then consists of the indices at which the  outer layer of captures may be found within the subject.</p></li><li><p><code>patt</code> is the <code>Pattern</code> matched against the subject.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/pegmatch.jl#L7-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.PegFail" href="#JLpeg.PegFail"><code>JLpeg.PegFail</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PegFail</code></pre><p>Returned on a failure to <code>match(patt:Pattern, subject::AbstractString)</code>. <code>errpos</code> is the position at which the pattern ultimately failed to match, <code>label</code> is info about the failure provided by <code>T(::symbol)</code>, defaulting to <code>:default</code> if the pattern fails but not at a throw point, or if no throws are provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/pegmatch.jl#L220-L227">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.PegError" href="#JLpeg.PegError"><code>JLpeg.PegError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PegError(msg) &lt;: Exception</code></pre><p>An error while constructing a <a href="#JLpeg.Pattern"><code>Pattern</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/types.jl#L29-L33">source</a></section></article><h2 id="Pattern-Matching"><a class="docs-heading-anchor" href="#Pattern-Matching">Pattern Matching</a><a id="Pattern-Matching-1"></a><a class="docs-heading-anchor-permalink" href="#Pattern-Matching" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.match" href="#Base.match"><code>Base.match</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">match(patt::Pattern, subject::AbstractString)::Union{PegMatch, PegFail}</code></pre><p>Match <code>patt</code> to <code>subject</code>, returning a <code>PegMatch</code> implementing the expected interface for its supertype <code>AbstractMatch</code>, or a <code>PegFail</code> with useful information about the failure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/vm.jl#L737-L743">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.compile!" href="#JLpeg.compile!"><code>JLpeg.compile!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">compile!(patt::Pattern)::Pattern</code></pre><p>Compile a <a href="#JLpeg.Pattern"><code>Pattern</code></a>.</p><p>Translate the Pattern to Instruction codes, appending them to the <code>code</code> field and returning same.  Performs various optimizations in the process.</p><p>In most cases, the return value of <code>compile!</code> is the same Pattern passed in. The exceptions are special cases of primitive types, but be sure to reassign the return value to the variable bound to the original for the general case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/compile.jl#L336-L348">source</a></section><section><div><pre><code class="language-julia hljs">compile!(patt::PGrammar)::Pattern</code></pre><p>Compiles <em>and prepares</em> a Grammar.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/compile.jl#L718-L722">source</a></section></article><h2 id="Constructing-Patterns"><a class="docs-heading-anchor" href="#Constructing-Patterns">Constructing Patterns</a><a id="Constructing-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Constructing-Patterns" title="Permalink"></a></h2><p>Patterns are built by <a href="../#Combination">combining</a> the products of these constructors into more complex Patterns.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.P" href="#JLpeg.P"><code>JLpeg.P</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">P(p::Union{AbstractString,AbstractChar,Integer,Bool,Symbol})::Pattern</code></pre><p>Create a <a href="#JLpeg.Pattern"><code>Pattern</code></a>.</p><ul><li>If <code>p</code> is a <code>String</code> or <code>Char</code>, this matches that string or character.</li><li>If <code>p</code> is a positive <code>Integer</code>, it matches that many characters.</li><li>If <code>p</code> is <code>true</code>, the rules succeeds, if <code>false</code>, the rule fails.</li><li>If <code>p</code> is a <code>Symbol</code>, this represents a call to the rule with that name.</li><li>If <code>p</code> is a negative <code>Integer</code>, matches if that many characters remain, consumes no input.</li><li>If <code>p</code> is already a <code>Pattern</code>, it is simply returned.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; match(P(&quot;func&quot;), &quot;funci&quot;)
PegMatch([&quot;func&quot;])

julia&gt; match(P(3), &quot;three&quot;)
PegMatch([&quot;thr&quot;])

julia&gt; match(P(true), &quot;pass&quot;)
PegMatch([&quot;&quot;])

julia&gt; match(P(false), &quot;fail&quot;)
PegFail(&quot;fail&quot;, 1)

julia&gt; match(P(&#39;👍&#39;), &quot;👍&quot;)
PegMatch([&quot;👍&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L4-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.@P_str" href="#JLpeg.@P_str"><code>JLpeg.@P_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">P&quot;str&quot;</code></pre><p>Calls P(str) on the String, in close imitation of Lua&#39;s calling convention.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L217-L221">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.S-Tuple{AbstractString}" href="#JLpeg.S-Tuple{AbstractString}"><code>JLpeg.S</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">S(s::AbstractString)</code></pre><p>Create a Pattern matching any charcter in the string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.@S_str" href="#JLpeg.@S_str"><code>JLpeg.@S_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">S&quot;str&quot;</code></pre><p>Calls S(str) on the String, in close imitation of Lua&#39;s calling convention.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L235-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.R-Tuple{AbstractString}" href="#JLpeg.R-Tuple{AbstractString}"><code>JLpeg.R</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">R(s::AbstractString)</code></pre><p>Create a Pattern matching every character in the range from the first to the second character.  <code>s</code> must be two codepoints long, and the first must be lower-valued than the second.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L65-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.R-Tuple{AbstractChar, AbstractChar}" href="#JLpeg.R-Tuple{AbstractChar, AbstractChar}"><code>JLpeg.R</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">R(a::AbstractChar, b::AbstractChar)</code></pre><p>Match any character in the range <code>a</code> to <code>b</code>, inclusive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.@R_str" href="#JLpeg.@R_str"><code>JLpeg.@R_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">R&quot;str&quot;</code></pre><p>Calls R(str) on the String, in close imitation of Lua&#39;s calling convention.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L226-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.B" href="#JLpeg.B"><code>JLpeg.B</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">B(p::Union{Pattern,AbstractString,AbstractChar,Integer})</code></pre><p>Match <code>patt</code> behind the current subject index. <code>patt</code> must be of fixed length.  The most useful <code>B</code> pattern is <code>!B(1)</code>, which succeeds at the beginning of the string, followed by <code>B(&#39; &#39;)</code> to match the start of a line.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L92-L99">source</a></section></article><h2 id="JLpeg.Combinators"><a class="docs-heading-anchor" href="#JLpeg.Combinators">JLpeg.Combinators</a><a id="JLpeg.Combinators-1"></a><a class="docs-heading-anchor-permalink" href="#JLpeg.Combinators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Combinators" href="#JLpeg.Combinators"><code>JLpeg.Combinators</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">JLpeg.Combinators</code></pre><p>Contains all the combinator operators which shadow definitions in Base.  The module redefines these symbols, providing a fallback to the Base, and are designed not to break existing code.  The Julia compiler handles this kind of redirection well during inference, this technique is used by several packages which specialize operators for numerically-demanding tasks, without issue; we even transfer the Base docstrings.</p><p>Whether or not these overloads rise to the level of piracy is debatable.  That said, we&#39;ve walled them off, so that debate is not necessary.</p><p><strong>Use</strong></p><p>The <a href="#JLpeg.@grammar"><code>@grammar</code></a> and <a href="#JLpeg.@rule"><code>@rule</code></a> macros are able to use these operators, so you may not need them.  To import them, add this to your module:</p><pre><code class="language-julia hljs">import JLpeg.Combinators: *, -, %, |, ^, ~, !, &gt;&gt;, &gt;:, inv</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L287-L307">source</a></section></article><h2 id="Captures-and-Actions"><a class="docs-heading-anchor" href="#Captures-and-Actions">Captures and Actions</a><a id="Captures-and-Actions-1"></a><a class="docs-heading-anchor-permalink" href="#Captures-and-Actions" title="Permalink"></a></h2><p>PEG patterns are recognizers, matching the longest prefix of the string which they&#39;re able.  <a href="../#Captures">Captures</a> allow for substrings to be captured within the match, <a href="../#Actions">Actions</a> perform actions at the index of the match, or on a capture.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.C" href="#JLpeg.C"><code>JLpeg.C</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">C(patt::Pattern)</code></pre><p>Create a capture. Matching <code>patt</code> with return the matched substring.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L103-L107">source</a></section><section><div><pre><code class="language-julia hljs">C(patt::Pattern, sym::Union{Symbol,AbstractString})</code></pre><p>Create a named capture with key :sym or &quot;sym&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L111-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Cg" href="#JLpeg.Cg"><code>JLpeg.Cg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Cg(patt::Pattern [, sym::Union{Symbol,AbstractString}])</code></pre><p>Create a group capture, which groups all captures from P into a vector inside the <code>PegMatch</code> object.  If <code>sym</code> is provided, the group will be found at that key.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L123-L129">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Cr" href="#JLpeg.Cr"><code>JLpeg.Cr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Cr(patt::Pattern, sym::Union{CapSym, Nothing})</code></pre><p>Captures a <code>UnitRange</code> of matches in <code>patt</code>, optionally keyed by <code>sym</code>. Convenient for substitutions and annotations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L166-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Cc" href="#JLpeg.Cc"><code>JLpeg.Cc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Cc(args...)</code></pre><p>Constant capture. Matches the empty string and puts the values of <code>args</code> as a tuple in that place within the <code>PegMatch</code> captures.  If <code>args</code> is a <code>Pair{Symbol,Any}</code>, that symbol will appear as a key in the match.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L155-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Cp" href="#JLpeg.Cp"><code>JLpeg.Cp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Cp()</code></pre><p>Captures the empty string in <code>.captures</code>, consuming no input.  Useful for the side effect, of storing the corresponding offset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L145-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.A" href="#JLpeg.A"><code>JLpeg.A</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">A(patt::Pattern, fn::Function)</code></pre><p>Acts as a grouping capture for <code>patt</code>, applying <code>fn</code> to a successful match with the captures as arguments (not as a single Vector). If <code>patt</code> contains no captures, the capture is the SubString.  The return value of <code>fn</code> becomes the capture; if <code>nothing</code> is returned, the capture (and its offset) are deleted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L179-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Anow" href="#JLpeg.Anow"><code>JLpeg.Anow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Anow(patt::Pattern, fn::Function)</code></pre><p>Acts as a grouping capture, applying <code>fn</code> immediately upon a match succeeding to the captures inside <code>patt</code>, or the span of <code>patt</code> if there are no captures within it.  The return value of <code>fn</code> becomes the capture, but if <code>nothing</code> is returned, the entire pattern fails.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L193-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.T" href="#JLpeg.T"><code>JLpeg.T</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">T(label::Symbol)</code></pre><p>Throw a failure labeled with <code>:label</code>.  If a rule <code>:label</code> exists, this will be called to attempt recovery, the success or failure of the recovery rule is then used.  Otherwise, <code>:label</code> and the position of <code>T(:label)</code> will be attached to <code>PegFail</code> in the event that the whole match fails.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L205-L212">source</a></section></article><h2 id="Rules-and-Grammars"><a class="docs-heading-anchor" href="#Rules-and-Grammars">Rules and Grammars</a><a id="Rules-and-Grammars-1"></a><a class="docs-heading-anchor-permalink" href="#Rules-and-Grammars" title="Permalink"></a></h2><p>The great advantage (other than composability) PEGs have over regular expressions is the ability to match recursive patterns.  These are constructed out of Rules and Grammars.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Grammar" href="#JLpeg.Grammar"><code>JLpeg.Grammar</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Grammar(rule...)</code></pre><p>Create a grammar from the provided rules.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/interface.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.Rule" href="#JLpeg.Rule"><code>JLpeg.Rule</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Rule(name::Symbol, patt::Pattern)</code></pre><p>Un-sugared form of <a href="#JLpeg.@rule"><code>@rule</code></a>, creates a rule from <code>patt</code>, assigning it the name <code>name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/pattern.jl#L163-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.@rule" href="#JLpeg.@rule"><code>JLpeg.@rule</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@rule :name ← pattern...</code></pre><p>Sugared form for rule definition. Assigns the rule in-scope with the given <code>name</code>:</p><pre><code class="language-julia hljs"># Wrong
name = @rule :name  ←  &quot;foo&quot; | &quot;bar&quot;
# Right
@rule :name ← &quot;foo&quot; | &quot;bar&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/grammar.jl#L117-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.@grammar" href="#JLpeg.@grammar"><code>JLpeg.@grammar</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@grammar(name, rules)</code></pre><p>Syntax sugar for defining a set of rules as a single grammar. Expects a block <code>rules</code>, each of which is a rule-pair as can be created with <code>←</code>, or, if you must, <code>&lt;=</code>.  <code>&quot;string&quot;</code> will be interpolated as <code>P(&quot;string&quot;)</code>, and <code>:symbol</code> as <code>P(:symbol)</code>.  Be sure to use the macro forms <code>S&quot;123&quot;</code> and <code>R&quot;az&quot;</code> for sets and ranges, which will otherwise be transformed into <code>S(P(&quot;123&quot;))</code>, which is invalid.</p><p><strong>Example use</strong></p><p>This simple grammar captures the first string of numbers it finds:</p><pre><code class="language-julia-repl hljs">julia&gt; @grammar capnums begin
            :nums  ←  (:num,) | 1 * :nums
            :num   ←  S&quot;123&quot;^1
        end;

julia&gt; match(capnums, &quot;abc123abc123&quot;)
PegMatch([&quot;123&quot;])</code></pre><p>This one also captures the lowercase letters, before converting them to uppercase.</p><pre><code class="language-julia-repl hljs">julia&gt; upper = uppercase;  # A thoroughly unhygienic macro

julia&gt; @grammar uppernums begin
           :nums  ←  (:num,) | :abc * :nums
           :num   ←  S&quot;123&quot;^1
           :abc   ←  R&quot;az&quot;^1 &lt;| upper
       end;


julia&gt; match(uppernums, &quot;abc123abc123&quot;)
PegMatch([&quot;ABC&quot;, &quot;123&quot;])</code></pre><p>More extensive examples may be found in the documentation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/grammar.jl#L68-L108">source</a></section></article><h2 id="Dialects"><a class="docs-heading-anchor" href="#Dialects">Dialects</a><a id="Dialects-1"></a><a class="docs-heading-anchor-permalink" href="#Dialects" title="Permalink"></a></h2><p>A work in progress.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.re" href="#JLpeg.re"><code>JLpeg.re</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">re : An Interpretation of LPeg&#39;s `re` module</code></pre><p>The first dialect, intended, among other things, as a useful bootstrap of other dialects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/dialects.jl#L3-L8">source</a></section></article><h2 id="Generators"><a class="docs-heading-anchor" href="#Generators">Generators</a><a id="Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Generators" title="Permalink"></a></h2><p>A PEG is a specification of a class of algorithms which are valid on a universe of strings.  While the common thing to do is use this specification to construct a recognizer for such strings, it may also be used to create generators for valid strings in that universe.</p><p>JLpeg aspires to provide a complete set of generators for our patterns. So far, we have:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLpeg.generate" href="#JLpeg.generate"><code>JLpeg.generate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">generate(set::PSet)::String</code></pre><p>Generate a <code>String</code> of all characters matched by a Set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mnemnion/JLpeg.jl/blob/36429fbf8da0373ab033d03e943ac0b3b5907934/src/generator.jl#L13-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« JLpeg Guide</a><a class="docs-footer-nextpage" href="../internals/">Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 17 January 2024 14:42">Wednesday 17 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
